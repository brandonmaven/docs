---
title: Bland AI Integration
description: "Collect payments with Bland AI voice agents"
---

# Bland AI Integration

Integrate Maven with Bland AI in minutes. No server required.

## Quick Setup (5 minutes)

<Steps>
  <Step title="Get your Maven API key">
    Go to [Dashboard â†’ API Keys](https://app.trymaven.com/api-keys) and create a key
  </Step>
  <Step title="Add the payment tool to Bland">
    Configure a webhook tool in your Bland pathway
  </Step>
  <Step title="Update your pathway">
    Tell your agent when to collect payment
  </Step>
</Steps>

## 1. Add Payment Tool to Bland

In your Bland pathway, add a **Webhook** node with this configuration:

**URL:** `https://api.trymaven.com/v1/integrations/bland/webhook`

**Method:** POST

**Headers:**
```json
{
  "Authorization": "Bearer YOUR_MAVEN_API_KEY",
  "Content-Type": "application/json"
}
```

**Body:**
```json
{
  "amount": "{{amount}}",
  "from": "{{from}}",
  "description": "{{description}}"
}
```

<Warning>
  Replace `YOUR_MAVEN_API_KEY` with your actual API key (e.g., `mvn_test_xxx` or `mvn_live_xxx`)
</Warning>

## 2. Configure the Transfer

After your webhook node, add a **Transfer Call** node:

- **Transfer To:** Use the `transfer_to` value from the webhook response
- **Transfer Message:** "I'll transfer you now to securely enter your card details."

## 3. Set Up Webhook (Optional)

To receive payment notifications, configure a webhook in your [Maven Dashboard](https://app.trymaven.com/projects).

Maven will POST to your webhook URL:

```json
{
  "event": "payment.success",
  "session_id": "abc-123",
  "amount": 2500,
  "currency": "USD",
  "card_brand": "visa",
  "card_last4": "4242"
}
```

## That's It!

Your Bland agent can now collect payments. When the agent triggers the webhook:

1. Maven creates a payment session
2. Bland transfers the call to Maven's secure IVR
3. Customer enters card via phone keypad
4. Maven charges the card and sends you a webhook
5. Call transfers back to your agent (optional)

---

## Testing

1. Use a `mvn_test_` API key (test mode)
2. When prompted for card, enter: `4242 4242 4242 4242`
3. Any future expiry date, any 3-digit CVV

<Info>
  Test mode simulates charges. No real money moves.
</Info>

---

## Advanced: Transfer Back

To transfer the customer back to your Bland agent after payment, add a `callback` parameter to the webhook body:

```json
{
  "amount": "{{amount}}",
  "from": "{{from}}",
  "callback": "+14155551234"
}
```

---

## Advanced: Custom Server

If you need more control (custom logic, database lookups, etc.), you can run your own server:

```javascript
// Your server handles the Bland webhook
app.post('/bland/payment', async (req, res) => {
  const { amount, from } = req.body;

  // Your custom logic here...
  const customerId = await lookupCustomer(from);

  // Create Maven session
  const session = await fetch('https://api.trymaven.com/v1/sessions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${process.env.MAVEN_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      project: 'my-project',
      caller: from,
      amount: amount * 100,
      customer_id: customerId,
      metadata: { source: 'bland' }
    })
  });

  const { phone_number } = await session.json();

  return res.json({
    transfer_to: phone_number
  });
});
```

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Webhook not working">
    Check that your Maven API key is correct in the headers. Make sure it starts with `mvn_test_` or `mvn_live_`.
  </Accordion>

  <Accordion title="Call not transferring">
    Make sure your Transfer node is using the `transfer_to` value from the webhook response. Check your Bland logs for errors.
  </Accordion>

  <Accordion title="Payment failing">
    In test mode, use card `4242 4242 4242 4242`. Check your Maven dashboard for session status and error details.
  </Accordion>
</AccordionGroup>
