---
title: Errors
description: "HTTP status codes and error response shapes"
---

## Error Response

All errors return a JSON body with a `detail` field:

```json
{
  "detail": "Project not found"
}
```

## HTTP Status Codes

| Status Code | Description |
|-------------|-------------|
| `400` | **Bad Request.** The request is invalid or missing required fields. |
| `401` | **Unauthorized.** Invalid or missing API key. |
| `404` | **Not Found.** The requested resource doesn't exist. |
| `422` | **Unprocessable Entity.** The request body failed validation. |
| `429` | **Too Many Requests.** Rate limit exceeded. |
| `500` | **Server Error.** Something went wrong on our end. |

## Common Errors

### Authentication

| Error | Status | Cause |
|-------|--------|-------|
| `Invalid API key format` | 401 | The API key is not in the expected format. |
| `Invalid API key` | 401 | The API key doesn't exist or has been revoked. |

### Sessions

| Error | Status | Cause |
|-------|--------|-------|
| `Project not found` | 404 | The `project` UUID or slug doesn't match any project in your organization. |
| `Session not found` | 404 | No session exists with the given ID. |
| `No session found for this caller` | 404 | No active session for the phone number passed in the `caller` query parameter. |
| `Cannot cancel session in {status} status` | 400 | The session is already in a terminal state and can't be cancelled. |
| `Failed to create session` | 500 | An internal error occurred while creating the session. Retry the request. |

### Validation

Validation errors (422) include details about which fields failed:

```json
{
  "detail": [
    {
      "loc": ["body", "amount"],
      "msg": "ensure this value is greater than 0",
      "type": "value_error"
    }
  ]
}
```

## Session Error Codes

When a session reaches `payment-failed` status, the `error` field on the session object contains a machine-readable code and a human-readable message:

```json
{
  "session_id": "550e8400-e29b-41d4-a716-446655440000",
  "status": "payment-failed",
  "error": {
    "code": "card_declined",
    "message": "Your card was declined."
  }
}
```

| Code | Description |
|------|-------------|
| `card_declined` | The card was declined by the issuing bank. |
| `expired_card` | The card has expired. |
| `insufficient_funds` | The card has insufficient funds. |
| `incorrect_cvc` | The CVC code entered was incorrect. |
| `processing_error` | An error occurred while processing the card. |
| `checkout_expired` | The SMS checkout link expired before the customer completed payment. |

These error codes are also included in [`payment.failed` webhook events](/api-reference/webhooks/overview).
